---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';

const projects = [
  {
    id: 'fv-ai-codegen',
    title: 'fv-ai-codegen',
    description: 'Formal verification + gen AI for trustworthy software',
    tech: ['Python', 'Formal Methods', 'AI'],
    url: 'https://github.com/iamr-gh/fv-ai-codegen',
    gradient: 'from-cyan-900 via-blue-900 to-indigo-900',
    size: 'large'
  },
  {
    id: 'comptime-nn',
    title: 'comptime-nn',
    description: 'Compile-time gradient computation for neural networks',
    tech: ['Zig', 'ML', 'Compilers'],
    url: 'https://github.com/iamr-gh/comptime-nn',
    gradient: 'from-purple-900 via-blue-900 to-indigo-900',
    size: 'large'
  },
  {
    id: 'essay-gptability',
    title: 'essay-gptability',
    description: 'Research analyzing AI resistance in academic assignments',
    tech: ['Python', 'AI Research', 'Education'],
    url: 'https://github.com/iamr-gh/essay-gptability',
    gradient: 'from-violet-900 via-purple-900 to-fuchsia-900',
    size: 'medium'
  },
  {
    id: 'rts-engine',
    title: 'rts-engine',
    description: 'Tiny real-time strategy game engine using raylib',
    tech: ['Zig', 'Game Dev', 'Graphics'],
    url: 'https://github.com/iamr-gh/rts-engine',
    gradient: 'from-green-900 via-emerald-900 to-teal-900',
    size: 'medium'
  },
  {
    id: 'lc2k_compiler',
    title: 'lc2k_compiler',
    description: 'Complete toolchain for LC2k instruction set compilation',
    tech: ['Rust', 'Compilers', 'Systems'],
    url: 'https://github.com/iamr-gh/lc2k_compiler',
    gradient: 'from-red-900 via-orange-900 to-amber-900',
    size: 'medium'
  },
  {
    id: 'multithreaded_swarm_sim',
    title: 'multithreaded_swarm_sim',
    description: 'High-performance multithreading swarm simulations',
    tech: ['Rust', 'Systems', 'Performance'],
    url: 'https://github.com/iamr-gh/multithreaded_swarm_sim',
    gradient: 'from-emerald-900 via-teal-900 to-cyan-900',
    size: 'medium'
  },
  {
    id: 'Hand-of-Light-RTS',
    title: 'Hand-of-Light-RTS',
    description: 'Real-time strategy game built with Unity',
    tech: ['C#', 'Unity', 'Game Dev'],
    url: 'https://github.com/iamr-gh/Hand-of-Light-RTS',
    gradient: 'from-orange-900 via-red-900 to-pink-900',
    size: 'medium'
  },
  {
    id: 'MHACKS-14-fastrfood',
    title: 'MHACKS-14-fastrfood',
    description: 'Crowdsourced dining hall wait times',
    tech: ['JavaScript', 'Web', 'Hackathon'],
    url: 'https://github.com/iamr-gh/MHACKS-14-fastrfood',
    gradient: 'from-yellow-900 via-amber-900 to-orange-900',
    size: 'small'
  },
  {
    id: 'personal-site',
    title: 'personal-site',
    description: 'Personal portfolio website v1',
    tech: ['TypeScript', 'Web', 'Portfolio'],
    url: 'https://github.com/iamr-gh/personal-site',
    gradient: 'from-blue-900 via-indigo-900 to-purple-900',
    size: 'small'
  },
  {
    id: 'qr',
    title: 'qr',
    description: 'Bespoke QR code implementation',
    tech: ['JavaScript', 'Algorithms'],
    url: 'https://github.com/iamr-gh/qr',
    gradient: 'from-gray-900 via-slate-900 to-zinc-900',
    size: 'small'
  }
];
---

<Layout title="Projects | iamr">
  <Header />
  <main class="min-h-screen bg-background px-4 py-8">
    <div class="max-w-7xl mx-auto space-y-8">
      <div class="text-center space-y-4">
        <h1 class="text-3xl md:text-4xl font-light tracking-tight">Projects</h1>
        <p class="text-sm text-muted-foreground max-w-xl mx-auto">
          Selected work across systems programming, machine learning, and web development
        </p>
      </div>

      <div class="mosaic-grid">
        {projects.map((project) => (
          <a
            href={project.url}
            target="_blank"
            rel="noopener noreferrer"
            class={`project-card project-card--${project.size} group relative overflow-hidden rounded-lg transition-all duration-300 hover:opacity-90`}
          >
            <!-- Gradient Background -->
            <div class={`absolute inset-0 bg-gradient-to-br ${project.gradient} opacity-90`}></div>
            
            <!-- Grid Pattern Overlay -->
            <div class="absolute inset-0 opacity-10">
              <div class="h-full w-full" style="background-image: repeating-linear-gradient(45deg, transparent, transparent 35px, rgba(255,255,255,.05) 35px, rgba(255,255,255,.05) 70px);"></div>
            </div>
            
            <!-- Content -->
            <div class="relative h-full p-6 flex flex-col justify-between">
              <div>
                <h3 class="text-xl md:text-2xl font-light text-white mb-2 transition-colors duration-300">
                  {project.title}
                </h3>
                <p class="text-sm text-white/80 line-clamp-2 group-hover:text-white transition-colors duration-300">
                  {project.description}
                </p>
              </div>
              
              <div class="flex items-center justify-between mt-auto">
                <div class="flex gap-2 flex-wrap">
                  {project.tech.slice(0, 3).map((tech) => (
                    <span class="text-xs px-2 py-1 bg-white/20 backdrop-blur-sm rounded text-white/90">
                      {tech}
                    </span>
                  ))}
                </div>
                <div class="text-white/80 transition-colors duration-300">
                  <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10 0C4.477 0 0 4.484 0 10.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0110 4.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.203 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.942.359.31.678.921.678 1.856 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0020 10.017C20 4.484 15.522 0 10 0z" clip-rule="evenodd"/>
                  </svg>
                </div>
              </div>
            </div>
          </a>
        ))}
      </div>

      <div class="text-center pt-8">
        <p class="text-xs text-muted-foreground">
          37+ repositories on <a href="https://github.com/iamr-gh" class="text-primary hover:underline" target="_blank" rel="noopener noreferrer">GitHub</a>
        </p>
      </div>
    </div>
  </main>

  <style>
    .mosaic-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      grid-auto-rows: 200px;
      gap: 1rem;
      grid-auto-flow: dense;
    }

    @media (min-width: 768px) {
      .mosaic-grid {
        grid-template-columns: repeat(4, 1fr);
        grid-auto-rows: 180px;
      }
      
      .project-card--large {
        grid-column: span 2;
        grid-row: span 2;
      }
      
      .project-card--medium {
        grid-column: span 2;
        grid-row: span 1;
      }
      
      .project-card--small {
        grid-column: span 1;
        grid-row: span 1;
      }
    }

    @media (min-width: 1024px) {
      .mosaic-grid {
        grid-template-columns: repeat(4, 1fr);
        grid-auto-rows: 200px;
      }
    }

    .line-clamp-2 {
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }
  </style>
</Layout>