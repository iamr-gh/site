---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';

const projects = [
  {
    id: 'Hand-of-Light-RTS',
    title: 'Hand-of-Light-RTS',
    description: 'Real-time strategy game built with Unity',
    tech: ['C#', 'Unity', 'Game Dev'],
    url: 'https://github.com/iamr-gh/Hand-of-Light-RTS',
    gradient: 'from-orange-900 via-red-900 to-pink-900',
    size: 'featured'
  },
  {
    id: 'essay-gptability',
    title: 'essay-gptability',
    description: 'Research analyzing AI resistance in academic assignments',
    tech: ['Python', 'AI Research', 'Education'],
    url: 'https://github.com/iamr-gh/essay-gptability',
    gradient: 'from-violet-900 via-purple-900 to-fuchsia-900',
    size: 'tall'
  },
  {
    id: 'MHACKS-14-fastrfood',
    title: 'MHACKS-14-fastrfood',
    description: 'Crowdsourced dining hall wait times',
    tech: ['JavaScript', 'Web', 'Hackathon'],
    url: 'https://github.com/iamr-gh/MHACKS-14-fastrfood',
    gradient: 'from-yellow-900 via-amber-900 to-orange-900',
    size: 'wide'
  },
  {
    id: 'comptime-nn',
    title: 'comptime-nn',
    description: 'Compile-time gradient computation for neural networks',
    tech: ['Zig', 'ML', 'Compilers'],
    url: 'https://github.com/iamr-gh/comptime-nn',
    gradient: 'from-purple-900 via-blue-900 to-indigo-900',
    size: 'standard'
  },
  {
    id: 'rts-engine',
    title: 'rts-engine',
    description: 'Tiny real-time strategy game engine using raylib',
    tech: ['Zig', 'Game Dev', 'Graphics'],
    url: 'https://github.com/iamr-gh/rts-engine',
    gradient: 'from-green-900 via-emerald-900 to-teal-900',
    size: 'standard'
  },
  {
    id: 'site',
    title: 'site',
    description: 'Personal portfolio website built with Astro',
    tech: ['TypeScript', 'Astro', 'Tailwind'],
    url: 'https://github.com/iamr-gh/site',
    gradient: 'from-blue-900 via-indigo-900 to-purple-900',
    size: 'small'
  },
  {
    id: 'qr',
    title: 'qr',
    description: 'Bespoke QR code implementation',
    tech: ['JavaScript', 'Algorithms'],
    url: 'https://github.com/iamr-gh/qr',
    gradient: 'from-gray-900 via-slate-900 to-zinc-900',
    size: 'small'
  }
];
---

<Layout title="Projects | iamr">
  <Header />
  <main class="min-h-screen bg-background px-4 py-8">
    <div class="max-w-7xl mx-auto space-y-8">
      <div class="text-center space-y-4">
        <h1 class="text-3xl md:text-4xl font-light tracking-tight">Projects</h1>
        <p class="text-sm text-muted-foreground max-w-xl mx-auto">
          Selected work across systems programming, machine learning, and web development
        </p>
      </div>

      <div class="mosaic-grid">
        {projects.map((project) => (
          <a
            href={project.url}
            target="_blank"
            rel="noopener noreferrer"
            class={`project-card project-card--${project.size} group relative overflow-hidden rounded-lg transition-all duration-300 hover:opacity-90`}
          >
            <!-- Gradient Background -->
            <div class={`absolute inset-0 bg-gradient-to-br ${project.gradient} opacity-90`}></div>
            
            <!-- Grid Pattern Overlay -->
            <div class="absolute inset-0 opacity-10">
              <div class="h-full w-full" style="background-image: repeating-linear-gradient(45deg, transparent, transparent 35px, rgba(255,255,255,.05) 35px, rgba(255,255,255,.05) 70px);"></div>
            </div>
            
            <!-- Content -->
            <div class="relative h-full p-6 flex flex-col justify-between">
              <div>
                <h3 class="text-lg md:text-xl font-light text-white mb-3 transition-colors duration-300">
                  {project.title}
                </h3>
                <p class="text-sm text-white/80 line-clamp-3 group-hover:text-white transition-colors duration-300">
                  {project.description}
                </p>
              </div>
              
              <div class="flex items-center justify-between mt-auto pt-4">
                <div class="flex gap-2 flex-wrap">
                  {project.tech.slice(0, 3).map((tech) => (
                    <span class="text-xs px-2 py-1 bg-white/20 backdrop-blur-sm rounded text-white/90">
                      {tech}
                    </span>
                  ))}
                </div>
                <div class="text-white/80 transition-colors duration-300">
                  <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10 0C4.477 0 0 4.484 0 10.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0110 4.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.203 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.942.359.31.678.921.678 1.856 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0020 10.017C20 4.484 15.522 0 10 0z" clip-rule="evenodd"/>
                  </svg>
                </div>
              </div>
            </div>
          </a>
        ))}
      </div>

      <div class="text-center pt-8">
        <p class="text-xs text-muted-foreground">
          37+ repositories on <a href="https://github.com/iamr-gh" class="text-primary hover:underline" target="_blank" rel="noopener noreferrer">GitHub</a>
        </p>
      </div>
    </div>
  </main>

  <style>
    .mosaic-grid {
      display: grid;
      grid-template-columns: 1fr;
      grid-auto-rows: 200px;
      gap: 1.25rem;
      grid-auto-flow: dense;
    }

    @media (min-width: 640px) {
      .mosaic-grid {
        grid-template-columns: repeat(2, 1fr);
        grid-auto-rows: 180px;
      }
      
      /* Tablet layout */
      .project-card--featured {
        grid-column: span 2;
        grid-row: span 2;
      }
      
      .project-card--wide {
        grid-column: span 2;
        grid-row: span 1;
      }
      
      .project-card--tall {
        grid-column: span 1;
        grid-row: span 2;
      }
      
      .project-card--standard,
      .project-card--small {
        grid-column: span 1;
        grid-row: span 1;
      }
    }

    @media (min-width: 1024px) {
      .mosaic-grid {
        grid-template-columns: repeat(4, 1fr);
        grid-auto-rows: 200px;
      }
      
      /* Desktop layout with interesting mosaic */
      .project-card--featured {
        grid-column: span 2;
        grid-row: span 2;
      }
      
      .project-card--wide {
        grid-column: span 3;
        grid-row: span 1;
      }
      
      .project-card--tall {
        grid-column: span 1;
        grid-row: span 2;
      }
      
      .project-card--standard {
        grid-column: span 2;
        grid-row: span 1;
      }
      
      .project-card--small {
        grid-column: span 1;
        grid-row: span 1;
      }
    }

    @media (min-width: 1280px) {
      .mosaic-grid {
        grid-template-columns: repeat(4, 1fr);
        grid-auto-rows: 220px;
      }
    }

    /* Base project card styling */
    .project-card {
      min-height: 200px;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      border-radius: 0.75rem;
      box-shadow: 0 4px 16px -4px rgba(0, 0, 0, 0.1);
      display: flex;
      flex-direction: column;
    }

    .project-card:hover {
      box-shadow: 0 12px 32px -8px rgba(0, 0, 0, 0.25);
      z-index: 10;
      transform: translateY(-4px) scale(1.02);
    }

    /* Size-specific styling */
    .project-card--featured {
      border-radius: 1rem;
      box-shadow: 0 8px 24px -4px rgba(0, 0, 0, 0.15);
    }
    
    .project-card--featured:hover {
      box-shadow: 0 16px 48px -8px rgba(0, 0, 0, 0.3);
      transform: translateY(-6px) scale(1.03);
    }
    
    .project-card--featured h3 {
      font-size: 1.5rem;
      margin-bottom: 1rem;
    }
    
    .project-card--featured p {
      font-size: 1rem;
      line-height: 1.6;
    }
    
    .project-card--tall {
      position: relative;
      overflow: hidden;
    }
    
    .project-card--tall:hover {
      transform: translateY(-4px) translateX(-2px) scale(1.02);
      box-shadow: 8px 8px 32px -4px rgba(0, 0, 0, 0.2);
    }
    
    .project-card--wide {
      position: relative;
    }
    
    .project-card--wide:hover {
      transform: translateY(-4px) scale(1.02);
      box-shadow: 0 16px 40px -8px rgba(0, 0, 0, 0.25);
    }
    
    .project-card--wide .relative {
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    
    .project-card--wide .relative > div:first-child {
      flex: 1;
      margin-right: 2rem;
    }
    
    .project-card--standard {
      transition: all 0.3s ease;
    }
    
    .project-card--standard:hover {
      transform: translateY(-4px) scale(1.02);
      box-shadow: 0 12px 32px -6px rgba(0, 0, 0, 0.22);
    }
    
    .project-card--small {
      border-radius: 0.625rem;
      transition: all 0.25s ease;
    }
    
    .project-card--small:hover {
      transform: translateY(-3px) scale(1.05);
      box-shadow: 0 8px 24px -4px rgba(0, 0, 0, 0.18);
    }
    
    .project-card--small .relative {
      padding: 1rem;
    }
    
    .project-card--small .relative h3 {
      font-size: 0.875rem;
      margin-bottom: 0.5rem;
    }
    
    .project-card--small .relative p {
      font-size: 0.75rem;
    }
    
    .project-card--small .tech-badges span {
      font-size: 0.625rem;
      padding: 0.25rem 0.5rem;
    }

    .line-clamp-3 {
      display: -webkit-box;
      -webkit-line-clamp: 3;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    /* Responsive adjustments */
    @media (max-width: 639px) {
      .project-card {
        min-height: 180px;
      }
      
      .project-card h3 {
        font-size: 1rem !important;
      }
      
      .project-card p {
        font-size: 0.875rem !important;
      }
    }
  </style>
</Layout>